[supervisord]
nodaemon=true
logfile=/dev/null
logfile_maxbytes=0

[program:tomcat]
command=%(ENV_CATALINA_HOME)s/bin/catalina.sh run
autostart=true
autorestart=true
stdout_logfile=/dev/fd/1
stdout_logfile_maxbytes=0
stderr_logfile=/dev/fd/2
stderr_logfile_maxbytes=0

[program:ai-service]
command=/app/venv/bin/python -m uvicorn main:app --host 0.0.0.0 --port 8500 --log-level info
directory=/app/ai-service
autostart=true
autorestart=true
stdout_logfile=/dev/fd/1
stdout_logfile_maxbytes=0
stderr_logfile=/dev/fd/2
stderr_logfile_maxbytes=0
environment=OVERLAY_API_URL="http://localhost:%(ENV_PORT)s/jallikattu-admin/api/overlay/current",DEVICE="cpu"
